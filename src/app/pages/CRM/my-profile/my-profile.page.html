<app-header [back_route]="'tabs/dashboard'" title="My Profile"></app-header>

<ion-content [fullscreen]="true">
  <ion-backdrop *ngIf="db.profile_loader"></ion-backdrop>
  <div class='container height' >
    <div class="profile">

      <div class="employeeDetail-s" *ngIf="false">
       <div *ngIf="db.employee_img" class="employeeDetail">
         <img class="blue" src="/assets/timesheet/blue.svg" /> 
         <img class="yellow" src="/assets/timesheet/yellow.svg" /> 
         <div class="d__flex gap-10 just-s employeeDetails">
           <div class="d__flex m-0 details w-100">
             <div class="imageDiv">
               <img *ngIf="db.employee_img.user_image" [src]="db.product_img(db.employee_img.user_image)" />
               <h4 *ngIf="!db.employee_img.user_image" class="m-0 fnt-15 fnt_w500">{{db.employee_img?.employee_name[0]}}</h4>
               <ion-icon class="mouse camera" (click)="file_upload.click()" name="camera"></ion-icon>
             </div>
             <div class="w-100">
               <h4 class="fnt-14 fnt_w500 m-0 name webkit-text capitalize" [style.--line]="1">{{db.employee_img?.employee_name}}</h4>
               <div class="d__flex title just-s w-100">
                 <h4  *ngIf="db.employee_img.name" class="fnt-12 fnt_w400 m-0 id gray_clr">{{db.employee_img?.name}}</h4>
                 <app-status [status]="db.employee_img.status"></app-status>
               </div>
             </div>
          </div>    
         </div>  
 
         <div class="d__flex gap-10">
 
           <h4 *ngIf="db.employee_img.department" class="d__flex gap-5 role m-0">
             <img class="workIcon1" src="/assets/emailIcon.svg" /> 
             <span class="fnt-13 fnt_w400 m-0 gray_clr">{{db.employee_img.personal_email ? db.employee_img?.personal_email : '-'}}</span>
           </h4>
 
           <h4 *ngIf="db.employee_img.department" class="d__flex gap-5 role m-0">
             <img class="workIcon1" src="/assets/callIcon.svg" /> 
             <span class="fnt-13 fnt_w400 m-0 gray_clr">{{db.employee_img.cell_number ? db.employee_img?.cell_number : '-'}}</span>
           </h4>
 
         </div>
 
       </div>
      </div>  
      <input #file_upload type="file" class="img-input" (change)="changeListener1($event)" multiple>

      <div class="voluntary-profileSection">
        <div>
          <div class="sec-1">
            <div class="imageDiv flex-19">
              <img *ngIf="db.employee_img.user_image" [src]="db.product_img(db.employee_img.user_image)" />
              <h4 *ngIf="!db.employee_img.user_image" class="m-0 fnt-15 fnt_w500">{{db.employee_img?.employee_name[0]}}</h4>
              <ion-icon class="mouse camera" (click)="file_upload.click()" name="camera"></ion-icon>
            </div>
            <div class="flex-80 pl-10">
            <h5 class="m-0 capitalize bold_name-13">{{db.cust_name}}</h5>
            <h6 *ngIf="db.cust_designation != 'null'" class="m-0 d__flex"> <ion-icon class="fnt-18" src="/assets/Employee-Home/designation.svg"></ion-icon> <span class="pl-5"> {{db.cust_designation}}</span>  </h6>
            <p *ngIf="db.employee_img && db.employee_img.grade_name" class="m-0 d__flex gap-10 gray_clr"><ion-icon class="fnt-16" src="/assets/Voluntary-Pf/Medal.svg"></ion-icon> <span> {{db.employee_img ? db.employee_img.grade_name + ' - ' + db.employee_img.band_name: '-'}}</span></p>
            <!-- <p *ngIf="db.employee_img && db.employee_img.company" class="m-0 gap-10 text-c gray_clr"><ion-icon class="fnt-24" src="/assets/company.svg"></ion-icon> <span class="fnt-11"> {{db.employee_img ? db.employee_img.company : '-'}}</span></p>  -->
          </div>
          </div>
          <div class="detailSec">
            <div class="section-p">
              <h4 class="values m-0">Company</h4>
                  <h4 class="values m-0  mb-5">{{db.employee_img ? db.employee_img.company : '-'}}</h4>
                  <h4 class="values m-0">Department</h4>
              <h4 class="values m-0  mb-5">{{db.employee_img && db.employee_img.department ? db.employee_img.department : '-'}}</h4>
               <div  class="d__flex just-s mb-5">
                <div class="flex-65">
                  <h4 class="values m-0">Location</h4>
                  <h4 class="values m-0  mb-5">{{db.employee_img && db.employee_img.location ? db.employee_img.location : '-'}}</h4>
                </div>
                <div class="flex-35">
                  <h4 class="values m-0">Employee Code</h4>
                  <h4 class="values m-0  mb-5">
                    {{db.employee_img && db.employee_img.custom_employee_code ? db.employee_img.custom_employee_code : '-'}}</h4>
                </div>
                </div>
             
              
              <div  class="d__flex just-s mb-5">
                <div class="flex-65"> 
              <h4  class="values m-0">Official mail ID</h4>
              <h4 class="values m-0 mb-5">{{db.employee_img ? db.employee_img.company_email : '-'}}</h4>
                 </div>
              <div class="flex-35">
              <h4 class="values m-0">Mobile Number</h4>
              <h4 class="values m-0">{{db.employee_img ? db.employee_img.cell_number : '-'}}</h4>
               </div>
              </div>
            </div>
          </div>
        </div>
      
  
        <div class="main_user_detail">
          <div class="user_detail">
            <div class="tabs" *ngFor="let item of db.permission_details.slice(0, 5)" (click)="db.doctype_select(item.page)">
              <!-- <ion-item  button lines="none" (click)="router_(item.route)">
                <ion-icon class="menu-icon" [src]="db.get_icon(item.page)"></ion-icon>
                <ion-label>{{item.page_name}}</ion-label>
                <ion-icon slot="end" name="chevron-forward-outline" class="arrow-icon md hydrated"></ion-icon>
              </ion-item> -->
              <div class="d__flex just-s p-10-0" (click)="router_(item.route)">
                <div class="d__flex gap-10">
                  <ion-icon class="menu-icon" [src]="db.get_icon(item.page)"></ion-icon>
                  <ion-label class="fnt-14 fnt_w500">{{item.page_name}}</ion-label>
                </div>
                <ion-icon name="chevron-forward-outline" class="arrow-icon md hydrated"></ion-icon>
              </div>
            </div>
            <div class="d__flex just-s p-10-0" (click)="router_('/employee-referral')">
              <div class="d__flex gap-10">
                <ion-icon class="menu-icon" [src]="db.get_icon('Employee Referral')"></ion-icon>
                <ion-label class="fnt-14 fnt_w500">Employee Referral</ion-label>
              </div>
              <ion-icon name="chevron-forward-outline" class="arrow-icon md hydrated"></ion-icon>
            </div>
            <div class="d__flex just-s p-10-0" (click)="router_('documents')">
              <div class="d__flex gap-10">
                <ion-icon class="menu-icon" [src]="db.get_icon('document')"></ion-icon>
                <ion-label class="fnt-14 fnt_w500">Document</ion-label>
              </div>
              <ion-icon name="chevron-forward-outline" class="arrow-icon md hydrated"></ion-icon>
            </div>
            <div class="d__flex just-s p-10-0" *ngIf="is_probation && is_probation.length != 0" (click)="download_Evaluation()">
              <div class="d__flex gap-10">
                <ion-icon class="menu-icon" [src]="db.get_icon('Probation d')"></ion-icon>
                <ion-label class="fnt-14 fnt_w500">Probation Download</ion-label>
              </div>
              <ion-icon name="chevron-forward-outline" class="arrow-icon md hydrated"></ion-icon>
            </div>
            <div class="d__flex just-s p-10-0" (click)="router_('new-resignation')">
              <div class="d__flex gap-10">
                <ion-icon class="menu-icon" [src]="db.get_icon('ResignationLetter')"></ion-icon>
                <ion-label class="fnt-14 fnt_w500">Resignation</ion-label>
              </div>
              <ion-icon name="chevron-forward-outline" class="arrow-icon md hydrated"></ion-icon>
            </div>
            <!-- <div class="d__flex just-s p-10-0" (click)="approval()">
              <div class="d__flex gap-10">
                <ion-icon class="menu-icon" [src]="db.get_icon('ResignationLetter')"></ion-icon>
                <ion-label class="fnt-14 fnt_w500">Approval</ion-label>
              </div>
              <ion-icon name="chevron-forward-outline" class="arrow-icon md hydrated"></ion-icon>
            </div> -->
            <!-- <div class="d__flex just-s p-10-0" (click)="router_('car-purchase')">
              <div class="d__flex gap-10">
                <ion-icon class="menu-icon" [src]="db.get_icon('document')"></ion-icon>
                <ion-label class="fnt-14 fnt_w500">Car Purchase</ion-label>
              </div>
              <ion-icon name="chevron-forward-outline" class="arrow-icon md hydrated"></ion-icon>
            </div> -->
          </div>
        </div>
      
      </div>
      

    </div>

    <div class="align_center" *ngIf="db.profile_loader">
      <div class="spinner_div">
        <ion-spinner name="bubbles"></ion-spinner>
        <p>Updating Image ...</p>
      </div>
    </div>
  </div>
</ion-content>
