<app-header [title]="'Buyback'" [model]="false"></app-header>

<ion-content [fullscreen]="true" *ngIf="!loader_">
  
  <div *ngIf="buybackDetail" class="p-10">
    
    <div class="buyback_detail">
      <div class="d__flex just-s mb-10">
        <div class="d__flex gap-10">
          <ion-icon class="asset_icon" [src]="buybackDetail.asset_type == 'Vehicle' ? '/assets/assets-managment/Vehicle.svg' : '/assets/assets-managment/Mobile.svg'"></ion-icon>
          <h2 *ngIf="buybackDetail.asset_type" class="m-0 fnt-14"><span class="gray_clr">{{buybackDetail.asset_type}}</span></h2>
        </div>
        <div class="d__flex">
          <app-status [reverse]="true" [status]="buybackDetail.status? buybackDetail.status :buybackDetail.workflow_state"></app-status>
        </div>
      </div>
  
      <div class="d__flex gap-20 mb-10">
        <div>
          <p class="fnt-13 fnt_w400 m-0 gray_clr mb-5">Date of Purchase</p>
          <p class="d__flex fnt-13 gap-5 m-0 fnt_w500"><ion-icon class="fnt-18" src="/assets/assets-managment/calendar.svg"></ion-icon>{{buybackDetail.date_of_purchase | date: 'MMM d, y'}}</p>
        </div>
        <div>
          <p class="fnt-13 fnt_w400 m-0 gray_clr mb-5">Buyback Date</p>
          <p class="d__flex fnt-13 gap-5 m-0 fnt_w500"><ion-icon class="fnt-18" src="/assets/assets-managment/calendar.svg"></ion-icon>{{buybackDetail.buyback_date | date: 'MMM d, y'}}</p>
        </div>
      </div>

      <div class="employee_detail mb-10">
        <h5 class="m-0 fnt-12 fnt_w600 mb-10 fnt_w500 mb-10">Employee Detail</h5>
        <div class="detail">
          <p class="d__flex fnt-13 gap-5 m-0 mb-5 fnt_w500"><ion-icon class="fnt-18" src="/assets/assets-managment/employee.svg"></ion-icon>{{buybackDetail.employee_name}}</p>
          <p class="d__flex fnt-13 gap-5 m-0 fnt_w500"><ion-icon class="fnt-18" src="/assets/assets-managment/awards.svg"></ion-icon>{{buybackDetail.asset}}</p>
        </div>
      </div>

      <div class="cost_detail">
        <h5 class="m-0 fnt-12 fnt_w600 mb-10 fnt_w500 mb-10">Cost Detail</h5>
        <div class="detail">
          <div class="mb-10">
            <p class="m-0 fnt-13 mb-5 gray_clr">{{buybackDetail.asset_type == 'Vehicle' ? 'Registration Number' : 'Baz Ticket Number'}}</p>
            <p class="m-0 fnt-14 mb-5">{{buybackDetail.asset_type == 'Vehicle' ? buybackDetail.registration_no : buybackDetail.baz_ticket_no}}</p>
          </div>
          <div class="mb-10">
            <p class="m-0 fnt-13 mb-5 gray_clr">Life Of the Asset</p>
            <p class="m-0 fnt-14 mb-5">{{buybackDetail.life_of_the_car}}</p>
          </div>
          <div class="mb-10">
            <p class="m-0 fnt-13 mb-5 gray_clr">Total Capitalized Value</p>
            <p class="m-0 fnt-14 mb-5">{{buybackDetail.total_capitalized_value | currency:db.website_settings.currency}}</p>
          </div>
          <div class="d__flex gap-10">
            <div class="mb-10">
              <p class="m-0 fnt-13 mb-5 fnt_w400 gray_clr">Perk Amount</p>
              <p class="m-0 fnt-13 fnt_w500">{{buybackDetail.perk_amount | currency:db.website_settings.currency}}</p>
            </div>
            <div class="mb-10">
              <p class="m-0 fnt-13 mb-5 fnt_w400 gray_clr">Buyback Amount</p>
              <p class="m-0 fnt-13 fnt_w500">{{buybackDetail.buyback_amount | currency:db.website_settings.currency}}</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    
  </div>
  
  <!-- <div class="closeBtn">
    <p class="m-0 mb-10 gray_clr fnt-13">Now You close your Vehicle Buyback </p>

    <ion-button fill="clear">Close</ion-button>
  </div> -->

</ion-content>

<ion-content *ngIf="loader_">

  <div class="skeleton">
    <div class="section-s" *ngFor="let i of [0,1,2,3,4,5,6,7,8]">
      <ion-skeleton-text animated style="width:25%; height: 16px;margin:10px 0; border-radius:5px"></ion-skeleton-text>
      <ion-skeleton-text animated style="width:100%; height: 40px; border-radius:5px"></ion-skeleton-text>
    </div>
  </div>

</ion-content>